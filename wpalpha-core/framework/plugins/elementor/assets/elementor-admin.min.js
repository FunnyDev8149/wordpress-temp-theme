jQuery(document).ready((function(e){"use strict";var t={init:function(){this.initCustomCSS(),this.initCustomJS(),this.addStudioButtons(),this.initArchiveSinglePreview(),elementor.on("panel:init",(function(){elementor.panel.currentView.on("set:page",t.panelChange),elementor.channels.editor.on("section:activated",t.removeControls)}))},initCustomCSS:function(){var t=elementor.settings.page.model.get("page_css");setTimeout((function(){void 0!==t&&elementorFrontend.hooks.doAction("refresh_page_css",t)}),1e3),e(document.body).on("input",'textarea[data-setting="page_css"]',(function(t){e(this).closest(".elementor-control").siblings(".elementor-control-_alpha_custom_css").length&&(elementor.settings.page.model.set("page_css",e(this).val()),e("#elementor-panel-saver-button-publish").removeClass("elementor-disabled"),e("#elementor-panel-saver-button-save-options").removeClass("elementor-disabled")),elementorFrontend.hooks.doAction("refresh_page_css",e(this).val())}))},initCustomJS:function(){elementor.settings.page.model.get("page_js");e(document.body).on("input",'textarea[data-setting="page_js"]',(function(t){e(this).closest(".elementor-control").siblings(".elementor-control-_alpha_custom_js").length&&(elementor.settings.page.model.set("page_js",e(this).val()),e("#elementor-panel-saver-button-publish").removeClass("elementor-disabled"),e("#elementor-panel-saver-button-save-options").removeClass("elementor-disabled"))}))},addStudioButtons:function(){var e=document.getElementById("tmpl-elementor-add-section");e&&(e.textContent=e.textContent.replace('<div class="elementor-add-section-area-button elementor-add-template-button','<div class="elementor-add-section-area-button elementor-studio-section-button" onclick="window.parent.runStudio(this);" title="Alpha Studio"><i class="alpha-mini-logo"></i><i class="eicon-insert"></i></div><div class="elementor-add-section-area-button elementor-add-template-button'))},panelChange:function(t){if("_alpha_section_custom_css"==t.activeSection||"_alpha_section_custom_js"==t.activeSection){var o=t.activeSection.replaceAll("_section",""),n=o.replaceAll("_alpha_custom","page");if(e(".elementor-control-"+n).length)return;var l=e(".elementor-control-"+o).clone().removeClass("elementor-control-"+o).addClass("elementor-control-"+n);l.insertAfter(e(".elementor-control-"+o)),l.find("textarea").attr("data-setting",n).val(elementor.settings.page.model.get(n)),"page_css"==n?e(".elementor-control-page_js").remove():e(".elementor-control-page_css").remove()}else"alpha_custom_css_settings"==t.activeSection?e(".elementor-control-page_css").val(elementor.settings.page.model.get("page_css")):"alpha_custom_js_settings"==t.activeSection&&e(".elementor-control-page_js").val(elementor.settings.page.model.get("page_js"))},removeControls:function(t){if("_alpha_section_custom_css"!=t&&"_alpha_section_custom_js"!=t)e(".elementor-control-page_css, .elementor-control-page_js").remove();else{var o=t.replaceAll("_section",""),n=o.replaceAll("_alpha_custom","page"),l=e(".elementor-control-"+o).clone().removeClass("elementor-control-"+o).addClass("elementor-control-"+n);l.insertAfter(e(".elementor-control-"+o)),l.find("textarea").attr("data-setting",n).val(elementor.settings.page.model.get(n)),"page_css"==n?e(".elementor-control-page_js").remove():e(".elementor-control-page_css").remove()}},initArchiveSinglePreview:function(){e(document).on("click",".elementor-control-archive_preview_apply .elementor-button",(function(t){e.post(alpha_core_vars.ajax_url,{action:"alpha_archive_builder_preview_apply",nonce:alpha_core_vars.nonce,post_id:ElementorConfig.document.id,mode:e(".elementor-control-archive_preview_type select").val()},(function(){elementor.reloadPreview()}))})).on("click",".elementor-control-single_preview_apply .elementor-button",(function(t){e.post(alpha_core_vars.ajax_url,{action:"alpha_single_builder_preview_apply",nonce:alpha_core_vars.nonce,post_id:ElementorConfig.document.id,mode:e(".elementor-control-single_preview_type select").val()},(function(){elementor.reloadPreview()}))}))}};elementor.on("frontend:init",t.init.bind(t))}));
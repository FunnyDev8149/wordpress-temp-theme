"use strict";window.themeCoreAdmin||(window.themeCoreAdmin={}),function(e){themeCoreAdmin.Metabox=function(){var a=function(){"video"==e(".editor-post-format select")?(e("#featured_video").closest(".rwmb-field").removeClass("hidden"),e('[name="supported_images"]').closest(".rwmb-field").addClass("hidden")):(e("#featured_video").closest(".rwmb-field").addClass("hidden"),e('[name="supported_images"]').closest(".rwmb-field").removeClass("hidden"))};e(window).on("load",a),e(window).on("load",(function(){e.fn.wpColorPicker&&e("input.alpha-color-picker:not(.wp-color-picker)").wpColorPicker()})),e("body").on("change",".editor-post-format select",a)},themeCoreAdmin.Sidebar=function(){e("body").on("click",".alpha-wrap #add_widget_area",(function(){var a=prompt("Widget Area Name"),t="",o=-1,n=e(this);if(a){if(n.attr("disabled","disabled"),"-"==(t=a.toLowerCase().replace(/(\W|_)+/g,"-"))[0]&&"-"==t[t.length-1]?t=t.slice(1,-1):"-"==t[0]?t=t.slice(1):"-"==t[t.length-1]&&(t=t.slice(0,-1)),alpha_core_vars.sidebars)Object.keys(alpha_core_vars.sidebars).forEach((function(e){if(0===e.indexOf(t)){var a=e.replace(t,"");""==a?o=Math.max(o,0):Number(a.slice(1))&&(o=Math.max(o,Number(a.slice(1))))}}));o>=0&&(t=t+"-"+(o+1)),e.ajax({url:alpha_core_vars.ajax_url,data:{action:"alpha_add_widget_area",nonce:alpha_core_vars.nonce,name:a,slug:t},type:"post",success:function(o){alpha_core_vars.sidebars[t]=a,e('<tr id="'+t+'" class="sidebar"><td class="title column-title">'+a+'</td><td class="slug column-slug">'+t+'</td><td class="remove column-remove"><a href="#">Remove</a></td></tr>').appendTo(e("#sidebar_table tbody#the-list")).hide().fadeIn(),n.removeAttr("disabled")}}).fail((function(e){console.log(e)}))}})),e("body").on("click","#sidebar_table .column-remove > a",(function(){if(confirm("Do you want to remove this sidebar?")){var a=e(this),t=a.closest("tr").find(".column-slug").text();e.ajax({url:alpha_core_vars.ajax_url,data:{action:"alpha_remove_widget_area",nonce:alpha_core_vars.nonce,slug:t},type:"post",success:function(o){delete alpha_core_vars.sidebars[t],a.closest("tr").fadeOut((function(){e(this).remove()})),a.removeAttr("disabled")}}).fail((function(e){console.log(e)}))}}))},themeCoreAdmin.TemplateWizard=function(){function a(){e("#wpbody-content .wrap:not(.alpha-admin-notices)").prependTo(e("#wpbody-content .templates-builder")),e("div.updated, div.error, div.notice").not(".inline, .below-h2").appendTo(e(".alpha-admin-notices"))}function t(){n(e(this).next(".alpha-modal"))}function o(){n(e(this).parent(".alpha-modal"))}function n(e){(e=e.add(e.prev(".alpha-modal-overlay"))).removeClass("alpha-modal-fade"),setTimeout((function(){e.removeClass("alpha-modal-open")}),50)}function i(a){var t;a.preventDefault(),(t=(t=e("#alpha_new_template")).add(t.prev(".alpha-modal-overlay"))).addClass("alpha-modal-open"),setTimeout((function(){t.addClass("alpha-modal-fade")})),e("#alpha-new-template-id").add("#alpha-new-template-type").add("#alpha-new-template-name").val("")}function l(a){var t=e(".alpha-modal .template-name").val();t?e.ajax({url:alpha_core_vars.ajax_url,data:{action:"alpha_save_template",nonce:alpha_core_vars.nonce,type:e(".alpha-modal .template-type").val(),name:t,template_id:e("#alpha-new-template-id").val(),template_type:e("#alpha-new-template-type").val(),template_category:e(".alpha-new-template-form .template-type").val(),page_builder:e("#alpha-elementor-studio").is(":checked")?"elementor":"wpbakery"},type:"post",success:function(a){var t=parseInt(a.data);window.location.href=e(".alpha-add-new-template").attr("href").replace("edit.php?post_type="+alpha_admin_vars.theme+"_template",e("#alpha-new-template-id").val()?e("#alpha-elementor-studio").is(":checked")&&"post.php?post="+t+"&action=elementor":"post.php?post="+t+"&action=edit&post_type="+alpha_admin_vars.theme+"_template")}}).fail((function(e){console.log(e)})):e(".alpha-modal .template-name").focus()}function p(a){13==a.keyCode&&e(".alpha-modal #alpha-create-template-type").length&&l()}return{init:function(){setTimeout(a,300),e(document.body).on("click",".alpha-add-new-template",i).on("click",".alpha-modal-close",o).on("click",".alpha-modal-overlay",t).on("click",".alpha-modal #alpha-create-template-type",l).on("keydown",p)}}}(),themeCoreAdmin.BuilderAddons=function(){e(document.body).hasClass("elementor-editor-active")&&"undefined"!=typeof elementor&&(elementor.on("panel:init",(function(){var a='<div id="alpha-elementor-addons" class="elementor-panel-footer-tool tooltip-target">                        <span class="alpha-elementor-addons-toggle" data-tooltip="'+alpha_core_vars.texts.elementor_addon_settings+'">                        <i class="alpha-mini-logo"></i></span><div class="dropdown-box"><ul class="options">';alpha_core_vars.builder_addons.length&&alpha_core_vars.builder_addons.forEach((function(e){e.elementor&&(a+=e.elementor)})),e(a+="</ul></div></div>").insertAfter("#elementor-panel-footer-saver-preview").find(".alpha-elementor-addons-toggle").tipsy({gravity:"s",title:function(){return this.getAttribute("data-tooltip")}})})),elementor.on("document:loaded",(function(){e("body").on("click",".alpha-elementor-addons-toggle",(function(a){e(this).siblings(".dropdown-box").toggleClass("show")})).on("click",(function(a){e("#alpha-elementor-addons .dropdown-box").removeClass("show")})).on("click","#alpha-elementor-addons",(function(e){e.stopPropagation()})).on("click","#alpha-custom-css",(function(a){e("#elementor-panel-footer-settings").trigger("click"),e(".elementor-tab-control-advanced a").trigger("click")})).on("click","#alpha-custom-js",(function(a){e("#elementor-panel-footer-settings").trigger("click"),e(".elementor-tab-control-advanced a").trigger("click"),setTimeout((function(){e(".elementor-control-alpha_custom_js_settings .elementor-panel-heading").trigger("click")}),100)})).on("click","#alpha-edit-area",(function(a){e("#elementor-panel-footer-settings").trigger("click"),e(".elementor-control-alpha_edit_area .elementor-section-toggle").trigger("click")}))}))),function(){if(e(document.body).hasClass("vc_editor vc_inline-shortcode-edit-form")||e("#post-body #wpb_visual_composer").length){alpha_core_vars.wpb_preview_panels&&Object.keys(alpha_core_vars.wpb_preview_panels).forEach((function(a){e("#vc_ui-panel-row-layout").before(e(alpha_core_vars.wpb_preview_panels[a]))})),e(".alpha-wpb-addons #alpha-popup-options").length&&(vc.AlphaPopupOptionsUIPanelEditor=vc.PostSettingsPanelView.vcExtendUI(vc.HelperPanelViewHeaderFooter).vcExtendUI(vc.HelperPanelViewResizable).vcExtendUI(vc.HelperPanelViewDraggable).vcExtendUI({panelName:"alpha_popup_options",uiEvents:{setSize:"setEditorSize",show:"setEditorSize"},setSize:function(){this.trigger("setSize")},setDefaultHeightSettings:function(){this.$el.css("height","70vh")},setEditorSize:function(){this.editor.setSizeResizable()}}),vc.alpha_popup_options_view=new vc.AlphaPopupOptionsUIPanelEditor({el:"#vc_ui-panel-alpha-popup-options"}),window.vc.ShortcodesBuilder&&(window.vc.ShortcodesBuilder.prototype.save=function(a){var t=this.getContent(),o={action:"vc_save"};o.vc_post_custom_css=window.vc.$custom_css.val(),o.content=this.wpautop(t),a&&(o.post_status=a,e(".vc_button_save_draft").hide(100),e("#vc_button-update").text(window.i18nLocale.update_all)),window.vc.update_title&&(o.post_title=this.getTitle());var n=e("#vc_ui-panel-alpha-popup-options"),i=n.find("#vc_popup-width-field").val(),l=n.find("#vc_popup-h_pos-field").val(),p=n.find("#vc_popup-v_pos-field").val(),d=n.find("#vc_popup-border-field").val(),r=n.find("#vc_popup-margin-top-field").val(),s=n.find("#vc_popup-margin-right-field").val(),c=n.find("#vc_popup-margin-bottom-field").val(),m=n.find("#vc_popup-margin-left-field").val(),u=n.find("#vc_popup-animation-field").val(),h=n.find("#vc_popup-anim-duration-field").val();o.alpha_popup_options={width:i||600,h_pos:l||"center",v_pos:p||"center",border:d||"0",top:r||"",right:s||"",bottom:c||"",left:m||"",popup_animation:u,popup_anim_duration:h||400},this.ajax(o).done((function(){window.vc.unsetDataChanged(),window.vc.showMessage(window.i18nLocale.vc_successfully_updated||"Successfully updated!")}))}),e("body").on("click",".alpha-wpb-addons #alpha-popup-options",(function(e){e&&e.preventDefault&&e.preventDefault(),vc.alpha_popup_options_view.render().show()})).on("click",'#vc_ui-panel-alpha-popup-options .vc_ui-button[data-vc-ui-element="button-save"]',(function(){if(vc.$frame_body){var a=e(this).closest(".vc_ui-alpha-panel"),t=a.find("#vc_popup-width-field").val(),o=a.find("#vc_popup-h_pos-field").val(),n=a.find("#vc_popup-v_pos-field").val(),i=a.find("#vc_popup-border-field").val(),l=a.find("#vc_popup-margin-top-field").val(),p=a.find("#vc_popup-margin-right-field").val(),d=a.find("#vc_popup-margin-bottom-field").val(),r=a.find("#vc_popup-margin-left-field").val();vc.$frame_body.find(".mfp-alpha .mfp-content").css({justifyContent:o,alignItems:n}),vc.$frame_body.find(".mfp-alpha .popup").css({width:t?Number(t)+"px":"600px",marginTop:l?l+"px":"",marginRight:p?p+"px":"",marginBottom:d?d+"px":"",marginLeft:r?r+"px":""}),vc.$frame_body.find(".mfp-alpha .alpha-popup-content").css({borderRadius:i?Number(i)+"px":""})}else vc.alpha_popup_options_view.hide()})))}}()},e(document).on("ready",(function(){themeCoreAdmin.Metabox(),void 0!==alpha_core_vars.sidebars&&themeCoreAdmin.Sidebar(),themeCoreAdmin.TemplateWizard.init(),void 0!==alpha_core_vars.condition_network&&themeCoreAdmin.TemplateCondition(),themeCoreAdmin.BuilderAddons()}))}(jQuery);